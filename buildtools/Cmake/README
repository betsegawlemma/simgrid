PART I --Using CPACK CMAKE CTEST--

Open a terminal to simgrid/trunk directory.
Then execute

	"cmake ./" configure the project (for options see partII)
	"make" build all tagets
	"make test" test all targets and summarize
	"make package" make the distrib (doc is needed see partII)
	"make install-simgrid" install the project (doc/ lib/ include/)
	"make clean" clean all targets

More details :
from a svn repository generally make :

	cmake -Denable_maintainer_mode=on ./
	make 
	make test

from a distrib repository generally make :

	cmake -Dprefix=/home/navarrop/Bureau/install_simgrid ./
	make
	make install-simgrid


PART II --OPTIONS--

Regarding options you can configure manually or with an executable

manually : "cmake -D[name]=[value] ... ./"

[name] 		disable_gtnets			[value] ON/OFF or TRUE/FALSE or 1/0
		disable_java				ON/OFF or TRUE/FALSE or 1/0
		disable_lua				ON/OFF or TRUE/FALSE or 1/0
		disable_ruby				ON/OFF or TRUE/FALSE or 1/0

		enable_compile_optimizations		ON/OFF or TRUE/FALSE or 1/0
		enable_compile_warnings			ON/OFF or TRUE/FALSE or 1/0
		enable_maintainer_mode			ON/OFF or TRUE/FALSE or 1/0
		
		supernovae				ON/OFF or TRUE/FALSE or 1/0

		gtnets_path				<path_to_gtnets_directory>
		prefix					<path_to_install_directory>
		with_context				auto/ucontext/pthread/window

executable : "ccmake ./" then follow instructions.

PART III --Explaination of options-- 

	-->disable_gtnets : set to true implie that user doesn't want to use gtnets.

	-->disable_java : set to true implie that user doesn't want to add java langage into simgrid compilation.

	-->disable_lua : set to true implie that user doesn't want to add lua langage into simgrid compilation.

	-->disable_ruby : set to true implie that user doesn't want to add ruby langage into simgrid compilation.

	-->enable_compile_optimizations : add flags "-O3 -finline-functions -funroll-loops -fno-strict-aliasing"

	-->enable_compile_warnings : add flags "-Wall -Wunused -Wmissing-prototypes -Wmissing-declarations -Wpointer-arith -Wchar-subscripts -Wcomment -Wformat -Wwrite-strings -Wno-unused-function -Wno-unused-parameter -Wno-strict-aliasing -Wno-format-nonliteral -Werror"

	-->enable_maintainer_mode : set to true make doc and remake files with flex flexml.
									/doc/html
									/src/gras/DataDesc/ddt_parse.yy.c
									/src/surf/simgrid_dtd.c
									/src/xbt/graphxml.c
									/src/simdag/dax_dtd.c
									/include/surf/simgrid_dtd.h
									/include/xbt/graphxml.h
									/src/simdag/dax_dtd.h

	-->supernovae : set to true make one file for each lib and compile with those generated files.
									/src/supernovae_sg.c
									/src/supernovae_gras.c			
									/src/supernovae_smpi.c

	-->gtnets_path : Path to gtnets install directory (ex /usr)

	-->prefix : Path where are installed lib/ doc/ and include/ directories (ex /usr/local)

	-->with context : specify which context the user wants to use.



Exemple of use and compilation result:

navarrop@caraja:~$ cd Bureau/simgrid-trunk/
navarrop@caraja:~/Bureau/simgrid-trunk$ cmake ./

GTnetS doesn't works : set -Ddisable_gtnets=on                  <-|some warnings are printed 
with_context auto change to ucontext				<-|
(skaddr)							<--info (needed)
(sksize)							<--info (needed)
Make : src/simgrid.jar with : /usr/bin/javac			<--info (if java)
Make examples/java with : /usr/bin/javac			<--info (if java)

Configuration of package `simgrid' (revision 7209M) on arch (=4):
	BUILDNAME : 		UCONTEXT				<-- name of the compilation regarding to cdash
	     SITE : 		Linux_Ubuntu 9.10_x86_64		<-- distribution of the local machine regarding to cdash

	Compiler: c++ : 	/usr/bin/c++
	       version:		c++ (Ubuntu 4.4.1-4ubuntu9) 4.4.1
		  c   :		/usr/bin/gcc
	       version:		gcc (Ubuntu 4.4.1-4ubuntu9) 4.4.1

	CFlags:			-g3
	CPPFlags:		
	LDFlags:		

	Context backend:	ucontext
	Compile Gtnets: 	0
		  path:		
	Compile Java:   	1
	Compile Lua:    	1
	Compile Ruby:    	0

	Maintainer mode:	OFF
	Supernovae mode:	OFF

	Simgrid dependencies: 	-ldl -llua5.1
	Gras dependencies: 	pthread
	Ruby dependencies: 	
	Smpi dependencies: 	

	USER_PREFIX: 		/usr/local
	INSTALL_PREFIX: 	/usr/local

-- Configuring done
-- Generating done
-- Build files have been written to: /home/navarrop/Bureau/simgrid-trunk

Here all options are checked and printed. If it doesn't match with your configuration it is probably due to a wrong configuration.






