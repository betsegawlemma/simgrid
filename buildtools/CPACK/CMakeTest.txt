### For code coverage
### Set some variables
SET(UPDATE_TYPE "svn")
SET(DROP_METHOD "http")
SET(DROP_SITE "cdash.inria.fr/CDash")
SET(DROP_LOCATION "/submit.php?project=${PROJECT_NAME}")
SET(DROP_SITE_CDASH TRUE)
SET(TRIGGER_SITE "http://cdash.inria.fr/CDash/cgi-bin/Submit-Random-TestingResults.cgi")
SET(SVN_COMMAND "${Subversion_SVN_EXECUTABLE}")
SET(COVERAGE_COMMAND "${GCOV_PATH}/gcov")
SET(VALGRIND_COMMAND "${VALGRIND_PATH}/valgrind")
SET(CTEST_SITE "${SITE}")
SET(CTEST_PROJECT_NAME "${ROJECT_NAME}")
SET(CTEST_CUSTOM_MAXIMUM_FAILED_TEST_OUTPUT_SIZE "3000000")
SET(CTEST_CUSTOM_MAXIMUM_PASSED_TEST_OUTPUT_SIZE "3000000")
SET(MEMORYCHECK_COMMAND "${VALGRIND_PATH}/valgrind")
set(MEMORYCHECK_COMMAND_OPTIONS "--trace-children=yes --leak-check=full --show-reachable=yes --track-origins=yes --read-var-info=yes") #--partial-loads-ok=yes


INCLUDE(CTest)
ENABLE_TESTING()
add_test(MasterSlave_forwarder ${EXECUTABLE_OUTPUT_PATH}/masterslave_forwarder ${PROJECT_DIRECTORY}/examples/msg/msg_platform.xml ${PROJECT_DIRECTORY}/examples/msg/masterslave/deployment_masterslave_forwarder.xml)
add_test(MasterSlave_failure ${EXECUTABLE_OUTPUT_PATH}/masterslave_forwarder ${PROJECT_DIRECTORY}/examples/msg/msg_platform.xml ${PROJECT_DIRECTORY}/examples/msg/masterslave/deployment_masterslave_forwarder.xml)

INCLUDE(Dart)
