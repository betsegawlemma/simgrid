/*! \page ns3 SimGrid and NS3

\section ns3_simgrid_configuration_ns3 Using NS3

It is possible to use discrete-event network simulator <a href="http://www.nsnam.org/">(ns-3)</a> for Internet systems
instead of the default one. 

<i>
To use ns3 model inside SimGrid you have to install at least the version 3.10 of ns3 simulator.
</i>

- <b>Download and enter the lateast release (here the 3.12.1)</b>

\verbatim
http://www.nsnam.org/release/ns-allinone-3.12.1.tar.bz2
tar -xf ns-allinone-3.12.1.tar.bz2
cd ns-allinone-3.12.1/ns-3.12.1/
\endverbatim

- <b>Configure, make and install ns3</b>

\verbatim
./waf configure --prefix="ns-3_install_directory"
./waf
./waf install
\endverbatim

After install ns-3 you should have directories into your "ns-3_install_directory":
	\li include/ns3/ 
	\li lib/ 
	\li bin/ (with 3.12)
	
You also need to add to the LD_LIBRARY_PATH : "ns-3_install_directory/lib".

- <b>Enable ns-3 support on SimGrid</b>

In order to enable ns-3 with simgrid you have to give where is ns-3 to the simgrid configuration command. (path to \<ns3_path\>/lib and \<ns3_path\>/include)

\verbatim
navarrop@caraja:~/workspace/simgrid/build$cmake . -Dns3_path=<ns3_path>
\endverbatim

With the output of the configuration you can see if ns-3 is detected by included the directory to flags.

\verbatim
Configuration of package `simgrid' on arch (=4):
	     BUILDNAME : 	UNIX
	     SITE      : 	Linux_2.6.38-11-generic_x86_64
	     Release   :	simgrid-3.6.1

	 Compiler: c++ : 	/usr/bin/c++
	        version:	4.6.1
	 Compiler: c   :	/usr/bin/gcc
	        version:	4.6.1

	       CFlags  :	-O3 -finline-functions -funroll-loops -fno-strict-aliasing -L/usr/lib/x86_64-linux-gnu -I/usr/include 
	       				-L/home/navarrop/Install/ns3-3.10/lib -I/home/navarrop/Install/ns3-3.10/include -g3  -D_NS3_3_10
	       CPPFlags:	-I/home/navarrop/Install/ns3-3.10/include -L/home/navarrop/Install/ns3-3.10/lib 

	Compile Gtnets : 	0
	Compile NS-3   : 	1 ---------------------> Be sure this option is "1" otherwise ns-3 is not activated
	Gtnets path    : 	
	NS-3 path      : 	/home/navarrop/Install/ns3-3.10
	Compile Lua    :    	
	Compile Smpi   :    	OFF
	Compile Static :    	OFF
	Compile pcre   :    	AUTO

	Maintainer mode:	OFF
	Supernovae mode:	OFF
	Model checking :	OFF
	Tracing mode   :	OFF
	Jedule  mode   :	OFF
	Latency bound  :	OFF
        Graphviz mode  :        

	Simgrid dependencies: 	-lm -lpcre -lpthread -lns3 -lrt
	Gras dependencies   : 	-lm -lpthread -lrt
	Smpi dependencies   : 	

	INSTALL_PREFIX: 	/usr/local
-- Configuring done
-- Generating done
-- Build files have been written to: /home/navarrop/workspace/simgrid/build
\endverbatim

Now you can compile SimGrid
\verbatim
navarrop@caraja:~/workspace/simgrid/build$make
\endverbatim

Then you can see if ns-3 is well activated by testing
\verbatim
navarrop@caraja:~/workspace/simgrid/build$ctest -R ns3
\endverbatim

You should see
\verbatim
    Start 182: msg-ns3-thread
1/3 Test #182: msg-ns3-thread ...................   Passed    0.35 sec
    Start 183: msg-ns3-ucontext
2/3 Test #183: msg-ns3-ucontext .................   Passed    0.22 sec
    Start 184: msg-ns3-raw
3/3 Test #184: msg-ns3-raw ......................   Passed    0.23 sec
\endverbatim

More about ns-3 simulator <a href="http://www.nsnam.org/">(Official website)</a>

*/