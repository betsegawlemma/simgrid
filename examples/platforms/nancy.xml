<?xml version='1.0'?>
<!DOCTYPE platform SYSTEM "http://simgrid.gforge.inria.fr/simgrid.dtd">
<platform version="3">

<AS id="AS_nancy" routing="RuleBased" >
	<AS id="AS_graphene" routing="RuleBased" >
		<cluster id="AS_sgraphene1" prefix="graphene-" suffix=".nancy.grid5000.fr"
			radical="1-39" power="16.673E9" bw="1.25E8" lat="1.0E-4"
			bb_bw="1.25E9" bb_lat="1.0E-4"></cluster>
		<cluster id="AS_sgraphene2" prefix="graphene-" suffix=".nancy.grid5000.fr"
			radical="40-74" power="16.673E9" bw="1.25E8" lat="1.0E-4"
			bb_bw="1.25E9" bb_lat="1.0E-4"></cluster>
		<cluster id="AS_sgraphene3" prefix="graphene-" suffix=".nancy.grid5000.fr"
			radical="75-104" power="16.673E9" bw="1.25E8" lat="1.0E-4"
			bb_bw="1.25E9" bb_lat="1.0E-4"></cluster>
		<cluster id="AS_sgraphene4" prefix="graphene-" suffix=".nancy.grid5000.fr"
			radical="105-144" power="16.673E9" bw="1.25E8" lat="1.0E-4"
			bb_bw="1.25E9" bb_lat="1.0E-4"></cluster>

		<AS id="gw_AS_graphene" routing="Full">
			<router id="graphene-AS_graphene_router.nancy.grid5000.fr"/>
		</AS>
		<link id="switch-graphene" bandwidth="1250000000" latency="5E-4"/>

		<ASroute src="^AS_(.*)$" dst="^AS_(.*)$"
		 gw_src="graphene-AS_$1src_router.nancy.grid5000.fr"
		 gw_dst="graphene-AS_$1dst_router.nancy.grid5000.fr">
			<link_ctn id="switch-graphene"/>
		</ASroute>
		<ASroute src="^AS_(.*)$" dst="^gw_AS_(.*)$"
		 gw_src="graphene-AS_$1src_router.nancy.grid5000.fr"
		 gw_dst="graphene-AS_graphene_router.nancy.grid5000.fr">
			<link_ctn id="switch-graphene"/>
		</ASroute>
		<ASroute src="^gw_AS_(.*)$" dst="^AS_(.*)$"
		 gw_src="graphene-AS_graphene_router.nancy.grid5000.fr"
		 gw_dst="graphene-AS_$1dst_router.nancy.grid5000.fr">
			<link_ctn id="switch-graphene"/>
		</ASroute>
	</AS>
	<link   id="link_graphene" bandwidth="1.25E9" latency="1.0E-4"/>

	<AS id="AS_griffon" routing="RuleBased" >
		<cluster id="AS_sgriffon1" prefix="griffon-" suffix=".nancy.grid5000.fr"
			radical="1-29;58-60" power="20.678E9" bw="1.25E8" lat="1.0E-4"
			bb_bw="1.25E9" bb_lat="1.0E-4"></cluster>
		<cluster id="AS_sgriffon2" prefix="griffon-" suffix=".nancy.grid5000.fr"
			radical="30-57" power="20.678E9" bw="1.25E8" lat="1.0E-4"
			bb_bw="1.25E9" bb_lat="1.0E-4"></cluster>
		<cluster id="AS_sgriffon3" prefix="griffon-" suffix=".nancy.grid5000.fr"
			radical="61-92" power="20.678E9" bw="1.25E8" lat="1.0E-4"
			bb_bw="1.25E9" bb_lat="1.0E-4"></cluster>

		<AS id="gw_AS_griffon" routing="Full">
			<router id="griffon-AS_griffon_router.nancy.grid5000.fr"/>
		</AS>
		<link id="switch-griffon" bandwidth="1250000000" latency="5E-4"/>

		<ASroute src="^AS_(.*)$" dst="^AS_(.*)$"
		 gw_src="griffon-AS_$1src_router.nancy.grid5000.fr"
		 gw_dst="griffon-AS_$1dst_router.nancy.grid5000.fr">
			<link_ctn id="switch-griffon"/>
		</ASroute>
		<ASroute src="^AS_(.*)$" dst="^gw_AS_(.*)$"
		 gw_src="griffon-AS_$1src_router.nancy.grid5000.fr"
		 gw_dst="griffon-AS_griffon_router.nancy.grid5000.fr">
			<link_ctn id="switch-griffon"/>
		</ASroute>
		<ASroute src="^gw_AS_(.*)$" dst="^AS_(.*)$"
		 gw_src="griffon-AS_griffon_router.nancy.grid5000.fr"
		 gw_dst="griffon-AS_$1dst_router.nancy.grid5000.fr">
			<link_ctn id="switch-griffon"/>
		</ASroute>
	</AS>
	<link   id="link_griffon" bandwidth="1.25E9" latency="1.0E-4"/>

	<AS id="gw_AS_nancy" routing="Full">
		<router id="gw_nancy"/>
	</AS>
	<link   id="link_gw_nancy" bandwidth="1.25E9" latency="1.0E-4"/>

	<ASroute src="^AS_(.*)$" dst="^AS_(.*)$"
		gw_src="$1src-AS_$1src_router.nancy.grid5000.fr"
		gw_dst="$1dst-AS_$1dst_router.nancy.grid5000.fr"
		symmetrical="YES">
			<link_ctn id="link_$1src"/>
			<link_ctn id="link_$1dst"/>
	</ASroute>

	<ASroute src="^AS_(.*)$" dst="^gw_AS_(.*)$"
		gw_src="$1src-AS_$1src_router.nancy.grid5000.fr"
		gw_dst="gw_$1dst"
		symmetrical="NO">
			<link_ctn id="link_$1src"/>
	</ASroute>

	<ASroute src="^gw_AS_(.*)$" dst="^AS_(.*)$"
		gw_src="gw_$1src"
		gw_dst="$1dst-AS_$1dst_router.nancy.grid5000.fr"
		symmetrical="NO">
			<link_ctn id="link_$1dst"/>
	</ASroute>

</AS>

</platform>
